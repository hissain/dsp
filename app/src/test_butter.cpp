#include <stdio.h>
#include "dsp.h"
#include "arm_math.h"

/* -------------------------------------------------------------------
 * Declare Test input/ output buffer
 * ------------------------------------------------------------------- */

#define BUTTER_COEFFICIENT_SZ 18
#define NUM_STAGES 3

static float32_t sos_testInput[TEST_LENGTH_SAMPLES_BUTTERWORTH];
static float32_t sos_testOutput[TEST_LENGTH_SAMPLES_BUTTERWORTH + BUTTER_COEFFICIENT_SZ - 1];

const float32_t sosCoeffs32[BUTTER_COEFFICIENT_SZ] = { // fs=50, low=4, high=12, order=3 
    0.05789037540897258, 0.11578075081794516, 0.05789037540897258, 1.0, -0.7891060118842965, 0.29052685673191647, 
    1.0, 0.0, -1.0, 1.0, -0.18073715520010925, 0.5480181510215416, 
    1.0, -2.0, 1.0, 1.0, -1.5029417427246403, 0.7414126827596454
};

static float32_t testInput_Butterworth[TEST_LENGTH_SAMPLES_BUTTERWORTH] =
{
    -3776.0, -3776.0, -3777.0, -3777.0, -3778.0, -3780.0, -3784.0, -3776.0, -3770.0, -3783.0, -3776.0, -3766.0, -3760.0, -3791.0, -3827.0, -3800.0, -3745.0, -3764.0, -3785.0, -3774.0, -3764.0, -3769.0, -3784.0, -3787.0, -3788.0, -3779.8, -3770.9, -3763.05, -3784.35, -3773.65, -3767.8, -3778.15, -3779.0, -3779.75, -3784.15, -3783.65, -3776.0, -3775.55, -3773.45, -3775.4, -3771.7, -3771.2, -3777.85, -3777.0, -3776.85, -3775.4, -3772.75, -3777.9, -3782.25, -3776.5, -3768.75, -3773.6, -3777.75, -3781.55, -3779.15, -3778.65, -3770.1, -3767.55, -3782.45, -3782.0, -3765.15, -3769.0, -3791.1, -3818.2, -3800.95, -3759.05, -3752.65, -3779.15, -3777.6, -3765.35, -3774.35, -3782.0, -3782.45, -3784.85, -3783.217391304348, -3778.0, -3772.0, -3788.0, -3779.0, -3759.0, -3775.0, -3786.0, -3778.0, -3778.0, -3779.0, -3776.0, -3772.0, -3783.0, -3778.0, -3778.0, -3772.0, -3774.0, -3777.0, -3787.0, -3780.0, -3784.0, -3779.0, -3775.0, -3776.0, -3780.0, -3780.0, -3780.9, -3777.4, -3772.5, -3774.7, -3771.4, -3786.3, -3788.0, -3762.8, -3756.4, -3778.5, -3812.5, -3803.4, -3762.4, -3747.2, -3764.9, -3771.5, -3763.9, -3776.5, -3786.1, -3789.7, -3790.9, -3772.1, -3769.1, -3783.4, -3786.6363636363635, -3778.2, -3771.2, -3777.2, -3779.0, -3778.2, -3782.0, -3783.0, -3778.2, -3777.0, -3780.2, -3778.6, -3773.2, -3776.0, -3780.2, -3782.6, -3778.2, -3777.0, -3778.6, -3776.6, -3776.0, -3775.2, -3779.8, -3780.2, -3781.6, -3777.6363636363635, -3772.5, -3778.0, -3786.6, -3770.1, -3754.3, -3775.5, -3807.7, -3807.9, -3779.5, -3757.8, -3765.6, -3777.3, -3770.9, -3767.0, -3774.7, -3778.7, -3781.8, -3776.0, -3776.5, -3778.7, -3784.6, -3777.2, -3763.2, -3768.8, -3775.0, -3778.6, -3781.3, -3780.05, -3780.95, -3782.0, -3779.4, -3774.75, -3767.15, -3766.6, -3769.95, -3774.9, -3772.45, -3773.25, -3781.5, -3781.75, -3776.1, -3773.35, -3771.7, -3771.65, -3775.9, -3782.55, -3782.4, -3776.45, -3771.4, -3771.8571428571427, -3773.0, -3764.0, -3757.4, -3772.0, -3805.4, -3794.6, -3756.6, -3752.0, -3771.2, -3778.8, -3772.0, -3768.0, -3772.2, -3775.6, -3780.8, -3784.0, -3779.2, -3767.6, -3775.2, -3775.6, -3767.0, -3769.2, -3776.8, -3777.6, -3777.714285714286, -3779.55, -3777.25, -3774.45, -3775.1, -3774.35, -3774.65, -3775.45, -3776.65, -3779.1, -3781.65, -3779.15, -3777.1, -3774.15, -3771.55, -3773.65, -3774.45, -3772.35, -3773.75, -3779.3, -3775.4, -3772.2, -3772.9, -3775.85, -3775.7, -3769.6521739130435, -3766.0, -3777.6, -3806.6, -3814.4, -3777.2, -3741.8, -3757.2, -3780.6, -3773.4, -3770.0, -3776.2, -3783.0, -3786.8, -3782.0, -3775.0, -3776.4, -3780.8, -3784.6, -3767.4, -3762.4, -3774.4, -3778.8, -3782.0, -3784.2, -3777.6666666666665, -3770.75, -3774.35, -3777.1, -3780.65, -3778.25, -3778.15, -3781.55, -3777.0, -3778.05, -3779.65, -3777.95, -3775.65, -3773.95, -3774.1, -3777.3, -3779.15, -3781.5, -3776.4, -3775.85, -3776.3, -3779.25, -3761.25, -3756.25, -3772.6, -3807.3333333333335, -3797.4, -3772.7, -3752.8, -3760.6, -3767.8, -3765.0, -3768.3, -3779.3, -3786.1, -3785.8, -3784.0, -3773.9, -3786.6, -3787.2, -3766.9, -3762.9, -3767.7, -3776.7, -3782.4, -3780.7, -3781.5, -3784.7, -3784.3, -3782.6, -3776.3684210526317, -3773.6, -3770.65, -3774.2, -3782.35, -3781.95, -3779.65, -3777.6, -3775.35, -3775.3, -3775.05, -3776.65, -3778.45, -3779.85, -3771.9, -3776.75, -3783.9, -3764.55, -3760.35, -3775.7, -3808.6, -3803.95, -3766.2, -3753.25, -3766.85, -3772.1739130434785, -3767.8, -3768.4, -3775.8, -3783.2, -3784.6, -3783.0, -3766.4, -3769.6, -3791.4, -3784.0, -3763.6, -3764.6, -3775.0, -3775.2, -3776.8, -3781.2, -3785.4, -3782.2, -3778.2, -3774.2, -3770.8, -3771.0, -3775.6, -3777.6, -3776.9523809523807, -3780.55, -3778.0, -3777.7, -3775.55, -3773.3, -3775.15, -3777.05, -3781.65, -3774.0, -3775.05, -3779.95, -3772.05, -3760.55, -3761.75, -3788.7, -3815.15, -3776.6, -3747.8, -3761.75, -3782.55, -3777.9, -3767.65, -3777.45, -3780.0, -3780.1363636363635, -3780.55, -3772.4, -3780.25, -3784.95, -3783.4, -3772.0, -3771.9, -3770.45, -3778.95, -3778.2, -3782.15, -3784.35, -3772.1, -3774.05, -3775.1, -3776.9, -3775.1, -3776.55, -3768.55, -3779.05, -3779.8, -3776.1, -3778.0, -3777.85, -3774.9545454545455, -3774.0454545454545, -3773.05, -3772.05, -3781.5, -3782.0, -3775.35, -3769.3, -3777.55, -3787.5, -3772.8, -3759.65, -3770.4, -3817.55, -3818.1, -3767.65, -3743.15, -3773.35, -3775.0, -3767.4, -3777.45, -3781.8, -3783.9, -3784.95, -3778.35, -3778.95, -3786.2380952380954, -3783.4, -3777.6, -3763.5, -3770.1, -3776.4, -3780.6, -3786.4, -3779.8, -3781.7, -3774.8, -3774.9, -3775.0, -3774.1, -3777.6, -3775.3, -3778.6, -3775.4, -3778.6, -3773.6, -3772.1, -3771.1, -3778.2, -3779.0, -3773.6, -3777.090909090909, -3776.4, -3776.8, -3773.8, -3784.2, -3775.8, -3762.6, -3757.6, -3787.4, -3818.2, -3805.6, -3761.0, -3755.0, -3767.2, -3772.4, -3767.4, -3774.8, -3784.2, -3790.0, -3791.8, -3774.4, -3770.8, -3785.4, -3774.6, -3767.8, -3773.095238095238, -3780.25, -3781.25, -3780.25, -3780.0, -3779.25, -3783.5, -3784.25, -3775.75, -3767.75, -3767.5, -3770.25, -3779.25, -3784.25, -3782.0, -3775.0, -3772.25, -3775.0, -3776.0, -3777.5, -3777.25, -3776.25, -3769.25, -3779.0, -3767.25, -3759.391304347826, -3755.0, -3780.0, -3811.2, -3811.6, -3771.8, -3752.0, -3764.8, -3770.2, -3765.4, -3767.2, -3775.4, -3780.8, -3786.2, -3776.4, -3764.4, -3779.4, -3786.8, -3773.2, -3765.4, -3768.6, -3771.6, -3775.0, -3777.0, -3779.4, -3778.818181818182, -3776.0, -3775.5, -3776.0, -3774.0, -3770.5, -3772.5, -3773.5, -3777.0, -3786.0, -3783.5, -3775.5, -3775.0, -3773.5, -3771.0, -3773.5, -3776.0, -3773.5, -3771.0, -3778.5, -3780.0, -3767.5, -3761.0, -3784.0, -3812.5, -3796.8260869565215, -3758.2, -3747.35, -3769.05, -3780.5, -3773.65, -3774.75, -3779.05, -3778.9, -3778.15, -3781.2, -3774.25, -3774.85, -3783.05, -3781.5, -3772.9, -3770.75, -3774.0, -3775.4, -3778.7, -3778.95, -3777.0, -3776.3, -3774.65, -3775.4444444444443, -3774.75, -3771.75, -3775.25, -3778.0, -3774.75, -3771.75, -3767.5, -3776.75, -3780.25, -3776.5, -3780.25, -3777.0, -3772.5, -3773.5, -3786.5, -3774.0, -3767.0, -3771.25, -3802.25, -3823.0, -3790.25, -3752.0, -3751.75, -3777.318181818182, -3774.1, -3770.5, -3780.65, -3788.8, -3783.05, -3785.7, -3768.2, -3778.15, -3794.95, -3786.3, -3770.85, -3771.65, -3781.15, -3781.55, -3779.45, -3781.4, -3777.7, -3777.05, -3781.8, -3774.7, -3773.3, -3776.05, -3781.25, -3777.15, -3778.2727272727275, -3780.0, -3779.65, -3773.2, -3777.3, -3782.7, -3777.15, -3779.7, -3774.0, -3773.85, -3771.75, -3786.2, -3788.55, -3760.45, -3752.35, -3798.05, -3817.55, -3806.65, -3761.35, -3750.2, -3772.85, -3769.9, -3768.25, -3773.7, -3787.1, -3789.0454545454545, -3789.9545454545455, -3771.95, -3772.9, -3789.15, -3784.3, -3768.8, -3768.0, -3775.6, -3776.95, -3776.05, -3778.85, -3779.0, -3784.7, -3781.2, -3775.3, -3771.2, -3764.35, -3766.85, -3779.35, -3776.2, -3782.65, -3784.9, -3777.4, -3773.2, -3772.05, -3768.8333333333335, -3774.75, -3770.25, -3772.5, -3789.0, -3777.5, -3758.5, -3763.0, -3797.5, -3817.0, -3796.75, -3766.5, -3761.25, -3772.5, -3769.25, -3767.0, -3773.75, -3778.25, -3779.0, -3780.5, -3777.25, -3767.75, -3780.75, -3778.5, -3763.25, -3764.714285714286, -3771.9, -3771.9, -3779.4, -3780.9, -3782.1, -3781.6, -3776.1, -3773.3, -3772.3, -3769.9, -3773.9, -3777.4, -3776.6, -3778.1, -3781.1, -3777.8, -3776.0, -3774.6, -3772.6, -3773.4, -3776.1, -3775.6, -3773.6, -3776.5, -3769.478260869565, -3763.45, -3762.45, -3766.4, -3785.95, -3805.05, -3781.4, -3747.55, -3752.75, -3771.7, -3771.95, -3767.55, -3775.15, -3778.8, -3778.65, -3784.95, -3776.9, -3772.5, -3782.5, -3780.95, -3768.85, -3766.3, -3773.4, -3776.45, -3775.45, -3778.4736842105262, -3777.4, -3772.0, -3769.4, -3770.8, -3771.4, -3777.0, -3779.2, -3779.2, -3777.0, -3775.0, -3774.4, -3776.4, -3772.0, -3769.8, -3772.8, -3773.4, -3776.6, -3779.0, -3772.4, -3768.0, -3771.0, -3779.0, -3774.0, -3763.2, -3778.8571428571427, -3802.9, -3812.65, -3784.85, -3747.25, -3750.3, -3767.5, -3767.6, -3765.65, -3773.6, -3779.55, -3780.55, -3787.05, -3784.85, -3776.25, -3779.5, -3779.6, -3765.0, -3758.75, -3769.8, -3779.2, -3781.55, -3780.9, -3778.35, -3773.7, -3774.6666666666665, -3777.0, -3775.0, -3771.0, -3772.5, -3776.0, -3778.5, -3781.0, -3779.0, -3778.0, -3775.5, -3771.0, -3775.5, -3779.0, -3774.5, -3775.5, -3774.0, -3768.5, -3775.5, -3786.5, -3773.5, -3754.0, -3771.0, -3808.5, -3817.0, -3783.3478260869565, -3751.4, -3757.15, -3764.05, -3763.55, -3762.85, -3776.65, -3789.0, -3789.35, -3780.9, -3765.05, -3774.7, -3787.25, -3780.15, -3772.65, -3774.1, -3777.3, -3776.7, -3778.0, -3777.3, -3777.05, -3779.7, -3778.9, -3772.2, -3768.4, -3769.95, -3770.8, -3776.7, -3779.05, -3779.25, -3776.0, -3776.35, -3775.6, -3771.95, -3772.8, -3778.35, -3777.6, -3771.5, -3772.35, -3782.15, -3767.65, -3756.45, -3778.85, -3812.7, -3804.2, -3774.8, -3755.75, -3764.25, -3771.9, -3766.6, -3769.95, -3779.95, -3780.1, -3777.7, -3772.3, -3781.2, -3781.6, -3789.2, -3777.0, -3764.7, -3767.05, -3770.4, -3774.4, -3776.65, -3776.7, -3777.3, -3775.3, -3772.95, -3770.65, -3768.95, -3769.45, -3774.35, -3775.7, -3778.4, -3779.25, -3776.608695652174, -3777.2, -3773.4, -3770.4, -3769.4, -3775.6, -3776.2, -3769.0, -3768.4, -3768.8, -3777.4, -3764.0, -3752.6, -3762.4, -3797.8, -3814.0, -3775.8, -3740.0, -3763.8, -3776.8, -3766.6, -3762.8, -3772.0, -3778.8, -3775.4, -3779.181818181818, -3770.5, -3767.9, -3784.5, -3778.2, -3761.8, -3761.2, -3772.3, -3775.0, -3775.0, -3775.1, -3775.5, -3771.3, -3773.9, -3772.8, -3771.4, -3775.1, -3775.6, -3772.5, -3775.8, -3765.5, -3770.5, -3774.9, -3773.8, -3771.5, -3767.3478260869565, -3770.8260869565215, -3769.1, -3777.55, -3778.95, -3770.45, -3761.45, -3774.3, -3775.95, -3760.8, -3760.95, -3786.65, -3815.55, -3802.75, -3749.75, -3740.35, -3769.45, -3775.75, -3760.8, -3769.5, -3778.55, -3782.8, -3788.7, -3769.05, -3773.7, -3786.35, -3775.2380952380954, -3771.3, -3759.3, -3773.3, -3778.6, -3776.3, -3772.4, -3774.7, -3772.3, -3772.9, -3771.2, -3775.5, -3776.0, -3776.0, -3775.1, -3773.2, -3773.9, -3775.8, -3775.1, -3775.0, -3774.1, -3773.1, -3776.6, -3776.1, -3777.8, -3774.5714285714284, -3771.45, -3774.4, -3784.35, -3755.4, -3754.25, -3787.3, -3815.95, -3807.25, -3779.5, -3756.3, -3764.9, -3768.7, -3764.75, -3771.65, -3778.95, -3787.65, -3786.45, -3772.4, -3773.4, -3786.75, -3783.05, -3771.8, -3766.6, -3770.25, -3770.2272727272725, -3776.0, -3779.5, -3777.75, -3777.75, -3778.0, -3772.0, -3768.5, -3764.25, -3768.25, -3770.75, -3777.0, -3783.5, -3780.5, -3780.5, -3777.25, -3774.5, -3771.75, -3771.75, -3767.5, -3762.25, -3771.5, -3787.75, -3762.75, -3750.0, -3772.181818181818, -3807.05, -3808.95, -3776.35, -3754.2, -3764.95, -3773.0, -3765.85, -3765.25, -3774.8, -3779.65, -3781.95, -3770.65, -3771.15, -3787.35, -3790.75, -3778.6, -3765.85, -3763.3, -3772.45, -3773.1, -3773.6, -3780.85, -3780.75, -3779.65, -3771.521739130435, -3765.0, -3766.0, -3767.0, -3770.5, -3772.0, -3771.0, -3776.0, -3779.5, -3776.0, -3773.0, -3771.5, -3769.0, -3771.5, -3775.5, -3773.5, -3766.5, -3772.0, -3781.0, -3770.5, -3757.0, -3761.0, -3789.0, -3800.5, -3764.0, -3737.904761904762, -3755.75, -3776.35, -3773.5, -3767.1, -3771.4, -3777.55, -3777.45, -3779.35, -3776.05, -3766.85, -3770.65, -3774.6, -3763.95, -3761.7, -3767.7, -3770.1, -3772.15, -3777.8, -3777.3, -3772.2, -3770.0, -3771.8, -3773.1, -3771.1, -3766.0, -3766.15, -3769.1, -3771.25, -3775.9, -3773.9, -3771.7, -3766.15, -3769.3, -3775.2, -3778.65, -3771.9, -3769.7, -3764.75, -3778.8, -3774.5, -3764.8, -3762.75, -3797.05, -3815.25, -3780.2, -3746.2, -3751.2, -3773.85, -3770.681818181818, -3764.318181818182, -3771.6, -3781.5, -3778.2, -3788.45, -3765.25, -3763.05, -3784.85, -3780.3, -3767.65, -3760.35, -3777.1, -3778.0, -3777.05, -3771.3, -3771.95, -3773.9, -3773.05, -3773.0, -3771.1, -3771.0, -3770.05, -3775.7, -3770.3, -3778.55, -3775.3809523809523, -3775.0, -3772.3, -3774.7, -3774.1, -3775.8, -3773.3, -3775.7, -3772.4, -3780.1, -3787.3, -3770.0, -3756.3, -3802.7, -3814.3, -3800.6, -3765.7, -3745.8, -3760.2, -3762.0, -3765.6, -3777.7, -3782.6, -3786.6, -3775.3, -3763.2, -3765.6, -3786.7, -3776.4, -3767.8, -3763.4, -3767.5, -3777.0, -3777.1, -3773.4, -3776.6, -3773.4, -3771.2, -3774.6, -3767.8, -3760.7, -3765.4, -3777.7, -3773.6, -3774.8, -3775.9, -3776.9, -3774.3, -3773.1, -3768.5, -3769.5652173913045, -3767.0, -3764.5, -3770.75, -3778.25, -3768.0, -3760.25, -3765.0, -3795.5, -3812.5, -3777.5, -3745.5, -3756.25, -3771.0, -3764.25, -3761.0, -3770.0, -3776.75, -3779.5, -3778.5, -3770.5, -3761.25, -3777.0, -3777.0, -3765.25, -3760.6363636363635, -3767.8, -3772.0, -3776.55, -3778.35, -3777.35, -3773.75, -3772.0, -3772.0, -3771.35, -3768.4, -3764.4, -3768.2, -3774.9, -3774.4, -3776.9, -3774.45, -3771.35, -3770.35, -3770.0, -3772.6, -3773.35, -3769.75, -3769.3, -3766.75, -3769.9523809523807, -3769.4, -3764.0, -3762.0, -3784.2, -3811.6, -3797.2, -3754.4, -3752.2, -3769.0, -3770.0, -3760.8, -3765.6, -3773.8, -3777.4, -3780.8, -3767.6, -3765.8, -3780.0, -3784.8, -3770.2, -3764.0, -3770.2, -3773.0, -3774.8, -3779.1304347826085, -3778.4, -3774.45, -3774.55, -3772.2, -3770.45, -3769.2, -3768.8, -3773.7, -3773.4, -3771.25, -3772.2, -3770.45, -3771.9, -3773.0, -3773.9, -3775.45, -3776.9, -3775.3, -3772.0, -3770.2, -3775.65, -3781.4, -3767.1, -3753.2, -3776.285714285714, -3814.8, -3811.6, -3779.2, -3751.6, -3757.2, -3770.6, -3764.8, -3764.2, -3777.4, -3781.0, -3783.4, -3779.4, -3770.0, -3779.0, -3788.0, -3780.0, -3764.8, -3765.6, -3774.8, -3776.8, -3775.6, -3772.4, -3772.6, -3774.0, -3774.913043478261, -3771.75, -3774.25, -3773.5, -3769.5, -3771.25, -3771.75, -3771.75, -3774.0, -3775.0, -3776.25, -3769.75, -3767.5, -3771.75, -3771.75, -3773.0, -3771.5, -3779.25, -3779.25, -3752.75, -3765.0, -3787.0, -3814.75, -3799.5, -3767.25, -3752.75, -3770.25, -3769.5, -3766.75, -3774.0, -3781.25, -3786.5, -3784.0, -3765.25, -3776.25, -3787.25, -3777.5, -3764.0, -3765.75, -3771.5, -3774.0, -3777.75, -3780.25, -3779.5, -3775.75, -3778.5, -3777.25, -3767.25, -3763.5, -3770.3529411764707, -3776.8823529411766, -3779.8, -3779.0, -3774.4, -3770.4, -3769.6, -3770.4, -3768.4, -3766.6, -3771.4, -3782.4, -3771.2, -3757.6, -3764.6, -3790.8, -3806.6, -3783.0, -3755.2, -3753.8, -3768.2, -3766.0, -3763.6, -3769.0, -3771.4, -3772.6470588235293, -3765.05, -3769.8, -3784.15, -3787.25, -3774.55, -3763.25, -3767.05, -3769.8, -3770.75, -3774.65, -3776.55, -3778.65, -3776.7, -3774.0, -3769.05, -3766.1, -3763.15, -3761.65, -3767.95, -3774.2, -3779.3, -3780.35, -3773.5, -3768.45, -3769.5, -3771.0, -3771.9, -3772.55, -3769.3, -3766.0, -3773.2, -3776.15, -3766.3, -3763.0, -3779.65, -3808.1, -3795.5, -3752.25, -3742.9, -3765.35, -3769.45, -3761.7, -3771.3, -3777.2, -3774.55, -3776.25, -3772.7, -3765.45, -3771.85, -3775.318181818182, -3767.2, -3762.35, -3764.75, -3768.7, -3769.3, -3769.05, -3772.05, -3772.25, -3770.75, -3772.6, -3770.7, -3771.3, -3770.7, -3772.0, -3772.0, -3771.3, -3770.35, -3769.6, -3767.35, -3770.1, -3773.3, -3772.35, -3775.1, -3776.9, -3770.9, -3765.95, -3768.55, -3773.5, -3765.95, -3760.5, -3763.45, -3793.25, -3809.35, -3776.0, -3744.7, -3765.3, -3773.85, -3765.2, -3764.2, -3774.1, -3777.65, -3779.45, -3777.7, -3769.85, -3776.3, -3777.1, -3775.05, -3764.0, -3766.8, -3771.391304347826, -3771.4, -3775.2, -3768.4, -3770.8, -3774.4, -3775.8, -3774.4, -3771.6, -3769.4, -3766.4, -3765.4, -3771.8, -3775.0, -3774.8, -3773.6, -3771.6, -3770.6, -3774.0, -3776.8, -3772.8, -3773.6, -3766.8, -3777.0, -3769.4, -3753.8, -3757.2, -3795.2, -3815.2, -3803.2, -3763.2, -3747.6, -3764.2, -3770.6, -3763.2, -3773.4, -3780.4, -3787.4, -3786.4, -3762.8, -3777.4, -3788.8, -3775.6, -3757.6, -3757.4, -3764.8, -3773.6, -3780.0, -3779.4, -3776.2, -3772.1304347826085, -3768.0, -3767.9, -3766.05, -3767.05, -3768.6, -3780.05, -3780.9, -3778.9, -3776.5, -3767.15, -3769.95, -3769.0, -3769.0, -3768.8, -3765.95, -3784.1, -3784.4, -3754.0, -3755.7, -3789.2, -3811.35, -3797.2, -3762.7, -3757.85, -3773.5454545454545, -3764.4545454545455, -3754.5, -3768.25, -3776.6, -3782.7, -3788.7, -3766.2, -3769.75, -3783.3, -3788.75, -3770.0, -3763.3, -3765.85, -3776.45, -3774.15, -3774.95, -3779.75, -3771.45, -3774.8, -3776.9, -3768.45, -3769.9, -3769.05, -3769.0, -3774.7, -3775.8636363636365, -3770.9, -3772.55, -3769.6, -3773.25, -3775.7, -3776.0, -3771.75, -3763.35, -3772.2, -3780.8, -3769.25, -3759.35, -3765.65, -3802.7, -3813.25, -3774.05, -3748.3, -3765.4, -3777.5, -3762.85, -3764.25, -3770.95, -3780.5, -3778.6, -3781.090909090909, -3773.75, -3759.75, -3773.25, -3773.0, -3765.75, -3770.75, -3770.75, -3773.75, -3778.75, -3777.75, -3774.75, -3766.5, -3770.75, -3769.25, -3772.5, -3771.75, -3771.75, -3770.5, -3773.75, -3774.25, -3780.0, -3773.75, -3769.5, -3771.25, -3772.0, -3772.0, -3770.9, -3769.45, -3769.0, -3773.95, -3767.55, -3756.8, -3753.35, -3777.85, -3811.65, -3802.75, -3760.6, -3752.2, -3769.6, -3766.75, -3763.85, -3773.05, -3778.0, -3777.45, -3779.2, -3774.95, -3768.35, -3778.0, -3773.25, -3759.25, -3766.25, -3771.25, -3772.0, -3775.0, -3775.25, -3775.0, -3776.5, -3777.0, -3775.5, -3773.5, -3770.75, -3772.25, -3771.5, -3773.25, -3774.0, -3774.75, -3773.5, -3770.75, -3771.5, -3772.75, -3772.25, -3770.5, -3771.5, -3771.25, -3758.6470588235293, -3757.0, -3751.6, -3775.3, -3807.7, -3811.0, -3760.6, -3745.1, -3761.1, -3769.3, -3761.9, -3765.5, -3782.2, -3786.7, -3791.5, -3756.9, -3769.2, -3784.5, -3769.8, -3761.7, -3763.7, -3770.3, -3769.2, -3772.6, -3773.9, -3772.3636363636365, -3777.6, -3779.0, -3769.4, -3769.4, -3769.2, -3771.4, -3776.0, -3777.0, -3775.4, -3776.6, -3775.4, -3775.8, -3776.8, -3769.0, -3767.8, -3766.4, -3775.6, -3764.4, -3757.8, -3758.6, -3789.4, -3815.4, -3796.8, -3763.0, -3766.4, -3773.8, -3769.4, -3762.4, -3764.2, -3773.0, -3774.2, -3772.4, -3774.4, -3769.4, -3786.4, -3779.8, -3763.4, -3757.6, -3765.8, -3772.8, -3774.8, -3775.0, -3773.4, -3774.6, -3775.8, -3773.6, -3765.0, -3765.4, -3766.8, -3767.0, -3772.85, -3774.7, -3774.0, -3774.0, -3776.6, -3772.8, -3771.3, -3770.7, -3768.05, -3767.65, -3776.45, -3774.5, -3762.55, -3756.05, -3775.8, -3809.75, -3800.55, -3756.5, -3741.6, -3762.5, -3771.05, -3766.75, -3764.35, -3773.75, -3780.95, -3784.6, -3771.05, -3764.95, -3775.75, -3781.65, -3775.5, -3763.55, -3764.85, -3772.55, -3773.7, -3775.6, -3773.75, -3770.7, -3775.2, -3775.4, -3770.75, -3767.05, -3769.9, -3772.65, -3773.0, -3772.35, -3773.3, -3774.0, -3768.8, -3766.590909090909, -3768.1, -3771.2, -3773.0, -3773.0, -3768.6, -3772.15, -3775.8, -3769.05, -3761.7, -3781.55, -3812.1, -3801.1, -3759.8, -3740.55, -3761.35, -3770.85, -3763.9, -3767.95, -3773.65, -3777.75, -3778.35, -3774.25, -3762.1, -3768.85, -3773.5, -3761.05, -3756.8, -3762.15, -3770.05, -3773.65, -3773.8, -3772.85, -3767.2, -3767.25, -3769.55, -3769.0, -3771.7, -3775.0, -3774.1, -3773.0, -3772.1, -3771.45, -3768.85, -3769.5, -3774.55, -3775.35, -3776.55, -3773.3, -3770.9, -3768.1428571428573, -3769.4, -3778.6, -3769.2, -3754.4, -3770.0, -3806.2, -3809.2, -3775.8, -3751.2, -3762.2, -3773.2, -3765.8, -3764.6, -3774.4, -3784.2, -3777.8, -3765.4, -3771.6, -3777.4, -3780.2, -3766.0, -3762.8, -3769.8, -3773.2, -3773.090909090909, -3774.7, -3775.5, -3779.0, -3778.4, -3774.9, -3770.6, -3770.8, -3768.9, -3770.4, -3771.7, -3778.9, -3779.2, -3775.6, -3775.5, -3772.3, -3772.1, -3769.7, -3768.1, -3771.1, -3783.3, -3773.8, -3753.3, -3772.4, -3802.0, -3805.8571428571427, -3789.5, -3758.75, -3745.75, -3758.0, -3768.75, -3766.5, -3774.75, -3787.25, -3790.5, -3786.25, -3779.75, -3785.5, -3783.5, -3768.25, -3755.0, -3760.75, -3770.75, -3776.75, -3778.5, -3778.5, -3782.25, -3778.75, -3773.0, -3766.25, -3765.4285714285716, -3768.0, -3771.3, -3775.65, -3775.9, -3776.1, -3777.0, -3779.2, -3780.45, -3775.05, -3765.5, -3770.9, -3778.45, -3768.1, -3756.15, -3764.55, -3790.5, -3796.85, -3768.45, -3748.9, -3760.1, -3770.55, -3764.95, -3764.4, -3775.15, -3779.0588235294117, -3782.9, -3775.2, -3771.7, -3780.4, -3788.2, -3772.5, -3760.1, -3761.5, -3767.9, -3774.9, -3777.7, -3778.0, -3773.1, -3768.9, -3768.7, -3766.9, -3766.0, -3772.3, -3771.5, -3772.1, -3773.0, -3771.6, -3773.1, -3771.2, -3773.5, -3775.7, -3775.3, -3772.2, -3769.6, -3773.9, -3777.4, -3768.2, -3760.5, -3764.6, -3792.2, -3814.2, -3772.1, -3746.4, -3760.1, -3774.7, -3773.1, -3763.3, -3771.2, -3774.6, -3776.1, -3779.8, -3772.6, -3762.0, -3777.2, -3775.0, -3758.95, -3760.15, -3769.85, -3774.3, -3776.95, -3775.4, -3775.95, -3768.55, -3767.9, -3771.95, -3774.95, -3770.8, -3769.3, -3768.7, -3771.25, -3770.4, -3774.2, -3773.75, -3772.65, -3773.65, -3774.0, -3768.8, -3763.4, -3771.1, -3774.2272727272725, -3765.85, -3755.6, -3760.25, -3789.55, -3812.95, -3792.8, -3759.25, -3759.55, -3770.65, -3765.4, -3762.2, -3772.25, -3779.55, -3783.3, -3774.45, -3769.4, -3777.95, -3784.75, -3774.35, -3759.6, -3765.9, -3773.45, -3773.55, -3774.55, -3775.5, -3773.3, -3771.35, -3772.55, -3771.1, -3770.9, -3770.65, -3770.35, -3772.45, -3773.0, -3772.1, -3774.15, -3776.2, -3773.1, -3771.1, -3770.45, -3768.75, -3764.65, -3772.9, -3780.05, -3767.25, -3758.55, -3780.95, -3814.4, -3810.2, -3775.1428571428573, -3748.8, -3759.0, -3767.6, -3764.2, -3768.8, -3782.0, -3785.6, -3777.8, -3764.4, -3781.6, -3789.4, -3779.2, -3764.0, -3756.8, -3767.6, -3771.4, -3773.0, -3780.6, -3782.2, -3780.6, -3777.2, -3773.0, -3766.2, -3758.0, -3764.2727272727275, -3771.2, -3775.2, -3775.6, -3772.1, -3777.3, -3777.1, -3772.3, -3763.9, -3765.0, -3773.6, -3759.2, -3753.2, -3758.3, -3790.5, -3806.0, -3773.9, -3749.5, -3757.2, -3767.6, -3766.9, -3762.0, -3765.0, -3773.8, -3780.1, -3780.1428571428573, -3769.25, -3776.25, -3783.5, -3770.25, -3755.25, -3761.25, -3762.75, -3775.5, -3779.75, -3777.5, -3772.75, -3773.5, -3776.25, -3768.5, -3760.75, -3760.5, -3764.25, -3772.75, -3778.25, -3777.75, -3773.5, -3772.25, -3771.5, -3768.5, -3770.391304347826, -3761.4, -3766.4, -3778.1, -3769.1, -3760.2, -3755.6, -3783.3, -3819.9, -3794.2, -3734.7, -3752.4, -3773.8, -3771.0, -3762.9, -3771.8, -3778.9, -3778.3, -3779.6, -3767.6, -3772.8, -3771.4, -3773.5, -3760.0, -3761.0, -3770.6, -3776.3, -3778.4, -3772.8, -3770.5, -3766.6, -3771.9, -3770.6, -3767.5, -3771.7, -3768.6, -3765.4, -3768.4, -3763.8, -3770.3, -3763.9, -3764.1, -3774.3, -3776.4, -3770.9, -3769.5, -3764.9, -3765.6, -3778.2, -3761.0, -3753.304347826087, -3766.3478260869565, -3795.5, -3816.0, -3775.2, -3740.7, -3762.75, -3769.7, -3757.65, -3759.85, -3773.3, -3776.85, -3784.6, -3780.25, -3779.05, -3766.65, -3777.4, -3771.35, -3760.55, -3765.7, -3770.75, -3768.15, -3770.85, -3770.05, -3775.7, -3772.2, -3770.0, -3769.0, -3765.0, -3771.0, -3771.0, -3771.0, -3777.0, -3771.0, -3771.0, -3773.0, -3771.0, -3770.0, -3767.0, -3769.0, -3759.0, -3773.0, -3784.0, -3752.0, -3744.0, -3776.0, -3818.0, -3811.0, -3774.0, -3740.0, -3764.0, -3762.181818181818, -3754.8, -3766.6, -3779.7, -3785.5, -3780.6, -3762.9, -3771.8, -3778.4, -3773.6, -3762.2, -3761.9, -3764.7, -3765.0, -3769.5, -3770.0, -3770.9, -3778.2, -3773.6, -3768.5, -3759.0, -3762.5, -3763.9, -3773.9, -3778.6, -3774.714285714286, -3774.0, -3772.3, -3770.3, -3764.05, -3757.05, -3767.9, -3782.75, -3756.1, -3756.1, -3751.05, -3795.05, -3810.65, -3772.9, -3749.0, -3751.95, -3764.9, -3759.35, -3759.7, -3771.9, -3774.0, -3779.1, -3771.5, -3774.25, -3775.85, -3783.7272727272725, -3769.5, -3756.5, -3756.25, -3763.0, -3766.5, -3767.0, -3773.0, -3775.75, -3773.0, -3772.75, -3769.25, -3765.0, -3763.25, -3766.75, -3770.25, -3773.25, -3776.25, -3769.5, -3773.75, -3776.75, -3771.0, -3766.75, -3763.0, -3764.25, -3764.3478260869565, -3759.8, -3756.4, -3760.8, -3790.4, -3815.2, -3774.4, -3737.4, -3752.2, -3773.4, -3771.2, -3764.8, -3767.6, -3775.4, -3780.2, -3782.2, -3770.4, -3757.2, -3769.6, -3772.8, -3762.6, -3763.8, -3769.4, -3771.6, -3772.6, -3771.8, -3771.0, -3769.8, -3768.4, -3769.2, -3768.8, -3769.8, -3773.4, -3772.0, -3767.0, -3766.2, -3769.4, -3771.6, -3770.8, -3768.8, -3767.4, -3766.4, -3767.8, -3766.6, -3771.0, -3771.4, -3765.4, -3756.4, -3765.8, -3796.0, -3780.5454545454545, -3747.5, -3741.5, -3758.0, -3771.5, -3766.0, -3764.0, -3770.5, -3775.5, -3777.5, -3770.0, -3767.0, -3776.0, -3779.5, -3769.5, -3762.0, -3763.5, -3766.5, -3771.0, -3773.0, -3773.5, -3774.0, -3774.5, -3771.5, -3768.0, -3767.4761904761904, -3768.45, -3768.55, -3771.6, -3772.85, -3772.15, -3774.2, -3771.55, -3772.8, -3773.2, -3770.55, -3767.75, -3767.7, -3776.85, -3770.05, -3753.0, -3763.8, -3793.65, -3811.3, -3794.5, -3762.25, -3749.75, -3760.25, -3760.75, -3763.4, -3773.1304347826085, -3778.6, -3781.5, -3775.1, -3757.4, -3774.5, -3783.2, -3773.9, -3759.0, -3753.2, -3759.9, -3769.3, -3771.8, -3775.7, -3773.2, -3769.9, -3771.4, -3768.8, -3765.4, -3764.3, -3766.8, -3771.3, -3772.6, -3774.9, -3777.3, -3777.1428571428573, -3770.75, -3758.0, -3762.0, -3772.5, -3761.5, -3744.75, -3757.5, -3782.0, -3811.0, -3788.5, -3752.0, -3740.75, -3755.0, -3762.5, -3760.5, -3769.5, -3776.0, -3783.5, -3780.75, -3762.0, -3773.25, -3778.5, -3769.5, -3755.5, -3757.913043478261, -3771.9, -3771.2, -3773.0, -3772.6, -3769.7, -3776.0, -3775.1, -3766.5, -3761.5, -3757.6, -3763.7, -3770.1, -3771.3, -3774.0, -3773.9, -3772.8, -3770.5, -3766.2, -3767.4, -3761.8, -3761.8, -3775.7, -3754.9, -3754.6, -3764.5555555555557, -3804.4, -3808.6, -3765.0, -3746.0, -3767.2, -3768.8, -3756.0, -3759.8, -3773.6, -3769.4, -3777.0, -3780.4, -3760.6, -3759.0, -3775.2, -3771.2, -3754.4, -3764.4, -3767.4, -3773.2, -3775.0, -3776.2, -3766.0, -3770.0, -3770.190476190476, -3771.0, -3769.95, -3764.15, -3765.3, -3767.0, -3767.75, -3771.4, -3767.4, -3764.15, -3764.4, -3761.75, -3766.9, -3771.25, -3766.7, -3764.25, -3761.65, -3770.55, -3766.05, -3755.15, -3759.3, -3783.85, -3813.85, -3786.55, -3735.25, -3750.8636363636365, -3768.95, -3767.45, -3757.2, -3761.8, -3776.55, -3768.6, -3779.25, -3765.25, -3769.8, -3766.45, -3774.05, -3755.8, -3752.75, -3767.1, -3768.95, -3768.05, -3768.95, -3767.9, -3765.85, -3763.4, -3770.55, -3762.15, -3765.15, -3768.1, -3769.5714285714284, -3761.0, -3766.0, -3771.0, -3769.0, -3769.0, -3769.0, -3767.0, -3769.0, -3766.0, -3767.0, -3765.0, -3763.0, -3775.0, -3771.0, -3759.0, -3744.0, -3767.0, -3819.0, -3798.0, -3752.0, -3742.0, -3758.0, -3766.0, -3757.0, -3765.0, -3774.5652173913045, -3776.0, -3781.1, -3767.55, -3767.55, -3776.5, -3776.3, -3763.25, -3758.45, -3769.9, -3772.85, -3767.05, -3768.55, -3766.45, -3767.7, -3769.7, -3769.15, -3763.9, -3767.25, -3763.75, -3766.4, -3767.85, -3771.4, -3771.15, -3767.6, -3766.2272727272725, -3764.5, -3765.5, -3769.0, -3764.0, -3762.75, -3768.25, -3784.25, -3767.25, -3757.75, -3744.25, -3793.25, -3806.5, -3792.25, -3758.0, -3745.75, -3755.5, -3755.25, -3764.5, -3774.75, -3781.5, -3781.5, -3770.5, -3763.25, -3777.0, -3777.2272727272725, -3767.85, -3752.95, -3755.45, -3764.55, -3770.25, -3775.9, -3774.1, -3772.0, -3764.85, -3762.3, -3761.7, -3755.8, -3759.5, -3768.2, -3772.3, -3771.7, -3776.2, -3775.75, -3768.15, -3762.4, -3764.9, -3762.45, -3760.0, -3771.7, -3765.0, -3756.0, -3753.8, -3763.55, -3795.0, -3804.2, -3766.75, -3743.1, -3756.1, -3765.45, -3758.4, -3759.05, -3769.5, -3771.8, -3777.15, -3771.45, -3764.75, -3776.9, -3775.65, -3761.4, -3753.8, -3755.85, -3765.05, -3768.35, -3768.1, -3766.0, -3765.7, -3768.1, -3765.65, -3763.1, -3763.35, -3765.9, -3767.45, -3769.35, -3767.85, -3767.15, -3768.75, -3767.35, -3769.0, -3767.65, -3767.8, -3769.55, -3765.85, -3763.8, -3770.05, -3771.85, -3760.35, -3751.0, -3757.75, -3783.1, -3775.7727272727275, -3735.0, -3737.45, -3749.7, -3766.8, -3766.4, -3759.15, -3768.15, -3774.35, -3777.8, -3777.4, -3766.3, -3769.55, -3775.55, -3767.5, -3758.9, -3755.7, -3758.75, -3765.5, -3771.3, -3770.0, -3768.6, -3766.35, -3767.35, -3766.95, -3766.590909090909, -3769.75, -3768.5, -3767.25, -3768.0, -3767.0, -3763.75, -3762.75, -3762.5, -3763.75, -3763.25, -3764.5, -3766.0, -3765.75, -3764.0, -3761.0, -3763.75, -3769.5, -3759.25, -3752.5, -3767.75, -3803.75, -3804.75, -3762.25, -3731.5, -3751.3333333333335, -3760.0, -3758.0, -3764.5, -3770.5, -3773.0, -3778.0, -3770.5, -3765.0, -3774.5, -3770.0, -3756.5, -3751.5, -3758.0, -3768.0, -3772.0, -3769.0, -3766.0, -3766.5, -3769.0, -3769.0, -3761.0, -3757.0, -3761.5, -3765.5, -3769.5, -3771.0, -3769.0, -3768.0, -3766.5, -3767.0, -3766.0, -3762.0, -3764.5, -3768.5, -3766.0, -3768.0, -3778.5, -3770.5, -3752.5, -3757.0, -3788.0, -3807.0, -3788.0, -3756.5, -3744.5, -3755.0, -3759.5, -3759.0, -3767.0, -3780.8260869565215, -3786.8, -3771.3, -3762.95, -3777.5, -3780.5, -3772.25, -3762.35, -3753.15, -3762.15, -3769.75, -3772.65, -3773.4, -3774.25, -3771.35, -3772.0, -3771.3, -3767.55, -3763.0, -3765.45, -3769.65, -3768.65, -3768.35, -3769.35, -3770.7, -3771.0, -3770.5, -3771.9, -3766.4, -3768.3, -3771.2, -3758.8, -3754.8, -3761.0, -3789.5, -3804.0, -3784.4, -3751.7, -3747.0, -3755.5, -3758.1, -3759.0, -3771.4, -3784.9, -3782.2, -3768.3, -3764.7, -3774.6, -3775.8, -3757.2, -3757.285714285714, -3768.75, -3770.5, -3770.5, -3773.75, -3768.75, -3765.0, -3765.0, -3763.75, -3760.5, -3761.25, -3761.0, -3768.5, -3774.0, -3775.5, -3771.25, -3771.5, -3769.0, -3764.25, -3758.0, -3759.0, -3771.0, -3767.25, -3753.25, -3756.75, -3797.0, -3810.1, -3782.6, -3752.0, -3753.35, -3759.8, -3753.3, -3756.95, -3767.55, -3765.6, -3770.65, -3775.65, -3751.75, -3759.45, -3779.3, -3777.85, -3758.5, -3751.65, -3762.8, -3772.55, -3770.15, -3770.4, -3767.75, -3771.1,
};

/* ----------------------------------------------------------------------
 * Butterworth Bandpass Code Example
 * ------------------------------------------------------------------- */
int test_butterworth_bandpass(void) // FIXME
{
    float32_t  *inputF32, *outputF32;

    /* Initialize input and output buffer pointers */
    inputF32 = &testInput_Butterworth[0];
    outputF32 = &sos_testOutput[0];

    /* Call conv function. */
    // NEED TO FIX, INCOMPLETE
    arm_conv_f32(inputF32, TEST_LENGTH_SAMPLES, sosCoeffs32, BUTTER_COEFFICIENT_SZ, outputF32);

    print_array(inputF32, TEST_LENGTH_SAMPLES_BUTTERWORTH);
    print_array(outputF32, TEST_LENGTH_SAMPLES_BUTTERWORTH);

    return 0;
}

float32_t stageBuffer[NUM_STAGES * 6];

int test_butterworth_bandpass_cas() {

    // Define CMSIS DSP instance structure
    arm_biquad_casd_df1_inst_f32 BiquadInstance;
    float32_t  *inputF32, *outputF32;

     /* Initialize input and output buffer pointers */
     inputF32 = &testInput_Butterworth[0];
     outputF32 = &sos_testOutput[0];

    // Initialize the CMSIS DSP instance structure
    arm_biquad_cascade_df1_init_f32(&BiquadInstance, NUM_STAGES, sosCoeffs32, stageBuffer);
    arm_biquad_cascade_df1_f32(&BiquadInstance, inputF32, outputF32, TEST_LENGTH_SAMPLES_BUTTERWORTH);
    
    print_array(inputF32, TEST_LENGTH_SAMPLES_BUTTERWORTH);
    print_array(outputF32, TEST_LENGTH_SAMPLES_BUTTERWORTH);

    return 0;
}

