#ifndef DSP_H
#define DSP_H

#include "arm_math_types.h"

/* ----------------------------------------------------------------------
** Macro Defines
** ------------------------------------------------------------------- */
#define TEST_LENGTH_SAMPLES  320
#define TEST_LENGTH_SAMPLES_BUTTERWORTH  3002

/* -------------------------------------------------------------------
 * The input signal
*/
static float32_t testInput_f32_1kHz_15kHz[TEST_LENGTH_SAMPLES] =
{
    +0.0000000000f, +0.5924659585f, -0.0947343455f, +0.1913417162f, +1.0000000000f, +0.4174197128f, +0.3535533906f, +1.2552931065f, 
    +0.8660254038f, +0.4619397663f, +1.3194792169f, +1.1827865776f, +0.5000000000f, +1.1827865776f, +1.3194792169f, +0.4619397663f, 
    +0.8660254038f, +1.2552931065f, +0.3535533906f, +0.4174197128f, +1.0000000000f, +0.1913417162f, -0.0947343455f, +0.5924659585f, 
    -0.0000000000f, -0.5924659585f, +0.0947343455f, -0.1913417162f, -1.0000000000f, -0.4174197128f, -0.3535533906f, -1.2552931065f, 
    -0.8660254038f, -0.4619397663f, -1.3194792169f, -1.1827865776f, -0.5000000000f, -1.1827865776f, -1.3194792169f, -0.4619397663f, 
    -0.8660254038f, -1.2552931065f, -0.3535533906f, -0.4174197128f, -1.0000000000f, -0.1913417162f, +0.0947343455f, -0.5924659585f, 
    +0.0000000000f, +0.5924659585f, -0.0947343455f, +0.1913417162f, +1.0000000000f, +0.4174197128f, +0.3535533906f, +1.2552931065f, 
    +0.8660254038f, +0.4619397663f, +1.3194792169f, +1.1827865776f, +0.5000000000f, +1.1827865776f, +1.3194792169f, +0.4619397663f, 
    +0.8660254038f, +1.2552931065f, +0.3535533906f, +0.4174197128f, +1.0000000000f, +0.1913417162f, -0.0947343455f, +0.5924659585f, 
    +0.0000000000f, -0.5924659585f, +0.0947343455f, -0.1913417162f, -1.0000000000f, -0.4174197128f, -0.3535533906f, -1.2552931065f, 
    -0.8660254038f, -0.4619397663f, -1.3194792169f, -1.1827865776f, -0.5000000000f, -1.1827865776f, -1.3194792169f, -0.4619397663f, 
    -0.8660254038f, -1.2552931065f, -0.3535533906f, -0.4174197128f, -1.0000000000f, -0.1913417162f, +0.0947343455f, -0.5924659585f, 
    +0.0000000000f, +0.5924659585f, -0.0947343455f, +0.1913417162f, +1.0000000000f, +0.4174197128f, +0.3535533906f, +1.2552931065f, 
    +0.8660254038f, +0.4619397663f, +1.3194792169f, +1.1827865776f, +0.5000000000f, +1.1827865776f, +1.3194792169f, +0.4619397663f, 
    +0.8660254038f, +1.2552931065f, +0.3535533906f, +0.4174197128f, +1.0000000000f, +0.1913417162f, -0.0947343455f, +0.5924659585f, 
    +0.0000000000f, -0.5924659585f, +0.0947343455f, -0.1913417162f, -1.0000000000f, -0.4174197128f, -0.3535533906f, -1.2552931065f, 
    -0.8660254038f, -0.4619397663f, -1.3194792169f, -1.1827865776f, -0.5000000000f, -1.1827865776f, -1.3194792169f, -0.4619397663f, 
    -0.8660254038f, -1.2552931065f, -0.3535533906f, -0.4174197128f, -1.0000000000f, -0.1913417162f, +0.0947343455f, -0.5924659585f, 
    -0.0000000000f, +0.5924659585f, -0.0947343455f, +0.1913417162f, +1.0000000000f, +0.4174197128f, +0.3535533906f, +1.2552931065f, 
    +0.8660254038f, +0.4619397663f, +1.3194792169f, +1.1827865776f, +0.5000000000f, +1.1827865776f, +1.3194792169f, +0.4619397663f, 
    +0.8660254038f, +1.2552931065f, +0.3535533906f, +0.4174197128f, +1.0000000000f, +0.1913417162f, -0.0947343455f, +0.5924659585f, 
    -0.0000000000f, -0.5924659585f, +0.0947343455f, -0.1913417162f, -1.0000000000f, -0.4174197128f, -0.3535533906f, -1.2552931065f, 
    -0.8660254038f, -0.4619397663f, -1.3194792169f, -1.1827865776f, -0.5000000000f, -1.1827865776f, -1.3194792169f, -0.4619397663f, 
    -0.8660254038f, -1.2552931065f, -0.3535533906f, -0.4174197128f, -1.0000000000f, -0.1913417162f, +0.0947343455f, -0.5924659585f, 
    +0.0000000000f, +0.5924659585f, -0.0947343455f, +0.1913417162f, +1.0000000000f, +0.4174197128f, +0.3535533906f, +1.2552931065f, 
    +0.8660254038f, +0.4619397663f, +1.3194792169f, +1.1827865776f, +0.5000000000f, +1.1827865776f, +1.3194792169f, +0.4619397663f, 
    +0.8660254038f, +1.2552931065f, +0.3535533906f, +0.4174197128f, +1.0000000000f, +0.1913417162f, -0.0947343455f, +0.5924659585f, 
    +0.0000000000f, -0.5924659585f, +0.0947343455f, -0.1913417162f, -1.0000000000f, -0.4174197128f, -0.3535533906f, -1.2552931065f, 
    -0.8660254038f, -0.4619397663f, -1.3194792169f, -1.1827865776f, -0.5000000000f, -1.1827865776f, -1.3194792169f, -0.4619397663f, 
    -0.8660254038f, -1.2552931065f, -0.3535533906f, -0.4174197128f, -1.0000000000f, -0.1913417162f, +0.0947343455f, -0.5924659585f, 
    -0.0000000000f, +0.5924659585f, -0.0947343455f, +0.1913417162f, +1.0000000000f, +0.4174197128f, +0.3535533906f, +1.2552931065f, 
    +0.8660254038f, +0.4619397663f, +1.3194792169f, +1.1827865776f, +0.5000000000f, +1.1827865776f, +1.3194792169f, +0.4619397663f, 
    +0.8660254038f, +1.2552931065f, +0.3535533906f, +0.4174197128f, +1.0000000000f, +0.1913417162f, -0.0947343455f, +0.5924659585f, 
    +0.0000000000f, -0.5924659585f, +0.0947343455f, -0.1913417162f, -1.0000000000f, -0.4174197128f, -0.3535533906f, -1.2552931065f, 
    -0.8660254038f, -0.4619397663f, -1.3194792169f, -1.1827865776f, -0.5000000000f, -1.1827865776f, -1.3194792169f, -0.4619397663f, 
    -0.8660254038f, -1.2552931065f, -0.3535533906f, -0.4174197128f, -1.0000000000f, -0.1913417162f, +0.0947343455f, -0.5924659585f, 
    -0.0000000000f, +0.5924659585f, -0.0947343455f, +0.1913417162f, +1.0000000000f, +0.4174197128f, +0.3535533906f, +1.2552931065f, 
    +0.8660254038f, +0.4619397663f, +1.3194792169f, +1.1827865776f, +0.5000000000f, +1.1827865776f, +1.3194792169f, +0.4619397663f, 
    +0.8660254038f, +1.2552931065f, +0.3535533906f, +0.4174197128f, +1.0000000000f, +0.1913417162f, -0.0947343455f, +0.5924659585f, 
    +0.0000000000f, -0.5924659585f, +0.0947343455f, -0.1913417162f, -1.0000000000f, -0.4174197128f, -0.3535533906f, -1.2552931065f, 
};

static float32_t input_15kHz_1kHz_50fs[256] = {0.0, 1.076389749859458, -0.33909536512761856, -0.21966069960779533, 1.432810190396869, 0.5877852522924735, -0.26650941036646514, 1.358298495068262, 1.4321131777944873, -0.04622946382913384, 0.9510565162951528, 1.9333437670238425, 0.4102414761357992, 0.41024147613579764, 1.933343767023842, 0.9510565162951583, -0.0462294638291334, 1.4321131777944902, 1.3582984950682633, -0.26650941036646547, 0.5877852522924718, 1.4328101903968686, -0.21966069960779366, -0.3390953651276168, 1.0763897498594575, -1.5932788001647358e-15, -1.0763897498594577, 0.3390953651276198, 0.21966069960779727, -1.4328101903968689, -0.587785252292482, 0.2665094103664648, -1.3582984950682664, -1.4321131777944869, 0.04622946382913562, -0.9510565162951545, -1.9333437670238431, -0.41024147613580353, -0.410241476135802, -1.9333437670238425, -0.9510565162951565, 0.04622946382913573, -1.4321131777944918, -1.3582984950682624, 0.2665094103664636, -0.5877852522924671, -1.4328101903968677, 0.2196606996077946, 0.3390953651276207, -1.076389749859456, 3.1865576003294716e-15, 1.076389749859458, -0.33909536512761684, -0.2196606996078017, 1.4328101903968695, 0.5877852522924734, -0.2665094103664669, 1.3582984950682555, 1.4321131777944855, -0.046229463829133954, 0.9510565162951345, 1.9333437670238447, 0.4102414761357964, 0.41024147613579753, 1.9333437670238451, 0.9510565162951625, -0.046229463829132844, 1.432113177794487, 1.3582984950682553, -0.26650941036646125, 0.5877852522924754, 1.4328101903968657, -0.21966069960779094, -0.3390953651276364, 1.0763897498594552, 2.325590957106794e-15, -1.0763897498594541, 0.3390953651276127, 0.21966069960779477, -1.4328101903968713, -0.5877852522924787, 0.2665094103664729, -1.3582984950682504, -1.4321131777944898, 0.046229463829137174, -0.9510565162951431, -1.9333437670238418, -0.4102414761357891, -0.4102414761357932, -1.933343767023835, -0.9510565162951681, 0.04622946382913451, -1.4321131777944944, -1.3582984950682482, 0.2665094103664639, -0.5877852522924842, -1.432810190396872, 0.21966069960779794, 0.33909536512762906, -1.0763897498594581, 6.373115200658943e-15, 1.0763897498594512, -0.3390953651276182, -0.21966069960778767, 1.4328101903968635, 0.5877852522924968, -0.26650941036647036, 1.3582984950682575, 1.4321131777944827, -0.04622946382913995, 0.9510565162951524, 1.9333437670238394, 0.41024147613580497, 0.41024147613577755, 1.9333437670238376, 0.9510565162951592, -0.046229463829131845, 1.4321131777945015, 1.3582984950682642, -0.2665094103664677, 0.5877852522924379, 1.43281019039688, -0.21966069960778023, -0.3390953651276202, 1.076389749859461, 1.3349888071979327e-14, -1.0763897498594572, 0.3390953651276254, 0.219660699607779, -1.4328101903968573, -0.5877852522924863, 0.2665094103664678, -1.3582984950682646, -1.4321131777944975, 0.04622946382913318, -0.9510565162951613, -1.9333437670238363, -0.41024147613579776, -0.41024147613578466, -1.9333437670238323, -0.9510565162951499, 0.04622946382913773, -1.4321131777945095, -1.3582984950682562, 0.2665094103664616, -0.5877852522924482, -1.4328101903968844, 0.21966069960778734, 0.33909536512763594, -1.0763897498594657, -4.651181914213588e-15, 1.0763897498594632, -0.3390953651276344, -0.21966069960779827, 1.43281019039686, 0.5877852522925059, -0.26650941036646514, 1.3582984950682486, 1.4321131777944673, -0.04622946382913595, 0.9510565162951415, 1.9333437670238336, 0.4102414761358367, 0.41024147613579187, 1.933343767023835, 0.9510565162951411, -0.046229463829135065, 1.432113177794471, 1.358298495068251, -0.26650941036646425, 0.587785252292457, 1.4328101903968817, -0.21966069960779433, -0.3390953651276287, 1.0763897498594686, -4.047524243552149e-15, -1.0763897498594601, 0.3390953651276416, 0.21966069960783724, -1.4328101903968626, -0.5877852522924969, 0.2665094103664625, -1.3582984950682557, -1.432113177794506, 0.04622946382913873, -0.9510565162951504, -1.933343767023831, -0.4102414761358296, -0.410241476135799, -1.9333437670238376, -0.9510565162951323, 0.04622946382913218, -1.432113177794478, -1.3582984950682442, 0.2665094103664669, -0.587785252292466, -1.432810190396879, 0.21966069960780138, 0.3390953651276213, -1.076389749859454, 1.2746230401317886e-14, 1.0763897498594575, -0.33909536512764904, -0.219660699607781, 1.4328101903968684, 0.5877852522924341, -0.2665094103664599, 1.3582984950682147, 1.432113177794497, -0.046229463829125406, 0.9510565162951012, 1.9333437670238451, 0.4102414761358224, 0.4102414761358061, 1.9333437670238403, 0.9510565162951803, -0.0462294638291294, 1.4321131777944853, 1.358298495068237, -0.2665094103664696, 0.587785252292472, 1.432810190396859, -0.2196606996078117, -0.33909536512757155, 1.0763897498594568, 3.895119598052489e-14, -1.0763897498594686, 0.3390953651276136, 0.2196606996078232, -1.432810190396868, -0.5877852522924791, 0.2665094103664748, -1.35829849506827, -1.4321131777944918, 0.04622946382914428, -0.9510565162951679, -1.933343767023843, -0.41024147613576933, -0.41024147613581297, -1.9333437670238598, -0.9510565162952295, 0.046229463829142725, -1.4321131777944482, -1.358298495068276, 0.26650941036645204, -0.5877852522924271, -1.432810190396877, 0.2196606996077694, 0.3390953651276068, -1.0763897498594595, -2.6699776143958654e-14, 1.0763897498594517, -0.3390953651276174, -0.21966069960777024, 1.4328101903968735, 0.587785252292476, };


void print_array(float32_t *data, int size);
void generate_composit(float32_t fs, float32_t freq[], int freqLen, int n_samples, float32_t *freqOut);
void test_generate_signal(void);

int test_fir(void);
int test_fft(void);
int test_ifft(void);
int test_cfft(void);
int test_conv(void);
int test_butterworth_bandpass(void);


#endif // DSP_H